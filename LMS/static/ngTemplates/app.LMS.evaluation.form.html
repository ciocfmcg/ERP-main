<div class="container-fluid" ng-controller="projectManagement.LMS.evaluation.form">
  <div class="col-md-6">
    <h4 ng-if="mode=='new'">Create Question Paper</h4>
    <h4 ng-if="mode=='edit'">Update Question Paper</h4>

    <div class="row">
      <div class="form-group">
        <label style="margin-top:20px;margin-left:20px">Select The Type</label>
        <br><br>
        <div class="row">
          <div class="col-md-4 text-center">
            <img src="/static/images/BooksStack.png" style="height:50px;height:50px;" class="img img-circle">
            <br>
            Book
            <br>
            <input ng-model="form.typ" name="type{{form.pk}}" type="radio" ng-value="'book'">
          </div>
          <div class="col-md-4 text-center">
            <img src="/static/images/questionbanks.png" style="height:50px;height:50px;" class="img img-circle">
            <br>
            Question Bank
            <br>
            <input ng-model="form.typ" name="type{{form.pk}}" type="radio" ng-value="'bank'">
          </div>
        </div>
      </div>
    </div>

    <div class="row" ng-if="form.typ == 'book'">
      <div class="col-md-6">
        <div class="form-group">
          <label>Book</label>
          <input type="text" class="form-control" ng-model="form.book" uib-typeahead="book as book.title for book in bookSearch($viewValue)">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Section</label>
          <input type="text" class="form-control" ng-model="form.section" uib-typeahead="section as section.title for section in sectionSearch($viewValue)">
        </div>
      </div>
    </div>

    <div class="row" ng-if="form.typ == 'bank'">
      <div class="col-md-6">
        <div class="form-group">
          <label>Subject </label>
          <input type="text" ng-model="form.subject" class="form-control" uib-typeahead="subject as subject.title for subject in subjectSearch($viewValue)">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
        <label>Topic </label>
        <input type="text" ng-model="form.topic" class="form-control" uib-typeahead="topic as topic.title for topic in topicSearch($viewValue)">
        </div>
      </div>
    </div>

    <div class="row" ng-if="form.topic.pk || form.section.pk">
      <div class="container-fluid">
        <div class="form-group">
        <label>Text</label>
        <input type="text" ng-enter="fetchQuestions()" class="form-control" ng-model="form.text">
        </div>
      </div>
    </div>
    <div class="row" ng-repeat="q in questions">
      <div class="container-fluid" ng-init="q.selected = false;">
        <div class="well well-sm">
          <input type="checkbox" ng-model="q.selected" style="margin-right:20px;">
          <!-- {{q.ques.ques}} -->
          <span mathjax-bind="q.ques.ques"></span>
        </div>
      </div>
    </div>
    <button class="btn btn-primary" ng-click="add()" ng-show="questions.length">Add To QuestionPaper</button>
  </div>
  <div class="col-md-6" ng-show="selectedquestions.length">
    <label class="text-muted"><h4>Question Paper</h4></label>
    <div ng-repeat="y in selectedquestions">
      <div class="well well-sm">
        <div class="col-md-10">
          <div class="form-group">
            <!-- {{y.ques.ques}} -->
            <span mathjax-bind="y.ques.ques"></span>
          </div>
        </div>
        <div class="col-md-2">
          <div class="from-group">
            <button class="btn btn-sm btn-danger" ng-click="delete($index)" >Delete</button>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label>Marks :</label>
              <input type="number" style="width:80%" class="form-control" ng-model="y.marks">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label>Negative Marks :</label>
              <input class="form-control" type="float" style="width:80%" ng-model="y.negativeMarks">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label>optional :</label><br>
              <input type="checkbox" ng-model="y.optional">
            </div>
          </div>
        </div>
      </div>
    </div>
    <buton class="btn btn-primary" ng-click="save()">Save</button>
  </div>
</div>
